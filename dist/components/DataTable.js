'use client';
import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { ChevronLeft, ChevronRight, Search, Loader2 } from 'lucide-react';
export function DataTable({ columns, data, loading = false, error = null, emptyMessage = 'No data found', searchable = false, searchPlaceholder = 'Search...', searchValue = '', onSearchChange, page = 1, totalPages = 1, onPageChange, sortBy, sortOrder, onSort, rowActions, onRowClick, }) {
    const getValue = (row, key) => {
        const keys = key.split('.');
        let value = row;
        for (const k of keys) {
            if (value && typeof value === 'object') {
                value = value[k];
            }
            else {
                return undefined;
            }
        }
        return value;
    };
    return (_jsxs("div", { className: "bg-[var(--hit-surface)] border border-[var(--hit-border)] rounded-lg overflow-hidden", children: [searchable && onSearchChange && (_jsx("div", { className: "p-4 border-b border-[var(--hit-border)]", children: _jsxs("div", { className: "relative", children: [_jsx(Search, { className: "absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[var(--hit-muted-foreground)]" }), _jsx("input", { type: "text", value: searchValue, onChange: (e) => onSearchChange(e.target.value), placeholder: searchPlaceholder, className: "w-full max-w-md pl-10 pr-4 py-2 border border-[var(--hit-border)] rounded-lg bg-[var(--hit-input-bg)] text-[var(--hit-foreground)] placeholder-[var(--hit-input-placeholder)] focus:outline-none focus:ring-2 focus:ring-[var(--hit-primary)]" })] }) })), _jsx("div", { className: "overflow-x-auto", children: _jsxs("table", { className: "w-full", children: [_jsx("thead", { className: "bg-[var(--hit-muted)]", children: _jsxs("tr", { children: [columns.map((col) => (_jsx("th", { onClick: () => col.sortable && onSort?.(String(col.key)), className: `px-4 py-3 text-left text-xs font-medium text-[var(--hit-muted-foreground)] uppercase tracking-wider ${col.sortable ? 'cursor-pointer hover:bg-[var(--hit-surface-hover)]' : ''}`, children: _jsxs("div", { className: "flex items-center gap-1", children: [col.label, col.sortable && sortBy === col.key && (_jsx("span", { children: sortOrder === 'asc' ? '↑' : '↓' }))] }) }, String(col.key)))), rowActions && (_jsx("th", { className: "px-4 py-3 text-right text-xs font-medium text-[var(--hit-muted-foreground)] uppercase tracking-wider", children: "Actions" }))] }) }), _jsx("tbody", { className: "divide-y divide-[var(--hit-border)]", children: loading ? (_jsx("tr", { children: _jsxs("td", { colSpan: columns.length + (rowActions ? 1 : 0), className: "px-4 py-12 text-center", children: [_jsx(Loader2, { className: "w-6 h-6 animate-spin mx-auto text-[var(--hit-muted-foreground)]" }), _jsx("p", { className: "mt-2 text-[var(--hit-muted-foreground)]", children: "Loading..." })] }) })) : error ? (_jsx("tr", { children: _jsx("td", { colSpan: columns.length + (rowActions ? 1 : 0), className: "px-4 py-12 text-center text-[var(--hit-error)]", children: error.message }) })) : data.length === 0 ? (_jsx("tr", { children: _jsx("td", { colSpan: columns.length + (rowActions ? 1 : 0), className: "px-4 py-12 text-center text-[var(--hit-muted-foreground)]", children: emptyMessage }) })) : (data.map((row, i) => (_jsxs("tr", { onClick: () => onRowClick?.(row), className: `${onRowClick
                                    ? 'cursor-pointer hover:bg-[var(--hit-surface-hover)]'
                                    : ''}`, children: [columns.map((col) => (_jsx("td", { className: "px-4 py-3 text-sm text-[var(--hit-foreground)]", children: col.render ? col.render(row) : String(getValue(row, String(col.key)) ?? '') }, String(col.key)))), rowActions && (_jsx("td", { className: "px-4 py-3 text-right", children: _jsx("div", { className: "flex items-center justify-end gap-2", children: rowActions(row) }) }))] }, i)))) })] }) }), totalPages > 1 && onPageChange && (_jsxs("div", { className: "px-4 py-3 border-t border-[var(--hit-border)] flex items-center justify-between", children: [_jsxs("span", { className: "text-sm text-[var(--hit-muted-foreground)]", children: ["Page ", page, " of ", totalPages] }), _jsxs("div", { className: "flex items-center gap-2", children: [_jsx("button", { onClick: () => onPageChange(page - 1), disabled: page <= 1, className: "p-2 rounded-lg hover:bg-[var(--hit-surface-hover)] disabled:opacity-50 disabled:cursor-not-allowed", children: _jsx(ChevronLeft, { className: "w-4 h-4" }) }), _jsx("button", { onClick: () => onPageChange(page + 1), disabled: page >= totalPages, className: "p-2 rounded-lg hover:bg-[var(--hit-surface-hover)] disabled:opacity-50 disabled:cursor-not-allowed", children: _jsx(ChevronRight, { className: "w-4 h-4" }) })] })] }))] }));
}
//# sourceMappingURL=DataTable.js.map