# Feature Pack: auth-admin
# Admin dashboard for users, sessions, audit logs

name: auth-admin
version: 2.0.0
description: Admin dashboard for user management, sessions, and audit logs

# Route definitions - mapped to React components
routes:
  - path: /admin
    page: Dashboard
    roles: [admin]
  - path: /admin/users
    page: Users
    roles: [admin]
  - path: /admin/users/[email]
    page: UserDetail
    roles: [admin]
  - path: /admin/sessions
    page: Sessions
    roles: [admin]
  - path: /admin/audit-log
    page: AuditLog
    roles: [admin]
  - path: /admin/invites
    page: Invites
    roles: [admin]

# Navigation contributions - auto-added to shell sidebar
nav:
  - id: admin
    label: Admin
    icon: Shield
    roles: [admin]
    showWhen: authenticated
    weight: 1000  # Admin at bottom of nav (higher weight = lower position)
    children:
      - label: Dashboard
        path: /admin
        icon: LayoutDashboard
      - label: Users
        path: /admin/users
        icon: Users
      - label: Sessions
        path: /admin/sessions
        icon: Key
      - label: Audit Log
        path: /admin/audit-log
        icon: FileText
      - label: Invites
        path: /admin/invites
        icon: Mail

# Notification types this pack can emit
notifications:
  types:
    - id: new_user
      title: New User Registered
      icon: UserPlus
      priority: medium
    - id: login_failed
      title: Failed Login Attempt
      icon: AlertTriangle
      priority: high
    - id: user_locked
      title: User Account Locked
      icon: Lock
      priority: high

# Dependencies
requires:
  modules: [auth]

# Dependencies on other feature packs
dependencies:
  feature_packs:
    - name: dashboard-shell

# Configurable options
config:
  schema:
    show_2fa_column:
      type: boolean
      default: true
      description: Show 2FA status column in users table
    users_per_page:
      type: number
      default: 25
      description: Number of users per page
    sessions_per_page:
      type: number
      default: 50
      description: Number of sessions per page
    show_oauth_status:
      type: boolean
      default: true
      description: Show OAuth provider connections
    allow_user_creation:
      type: boolean
      default: true
      description: Allow admins to create new users
    allow_user_deletion:
      type: boolean
      default: true
      description: Allow admins to delete users
    allow_password_reset:
      type: boolean
      default: true
      description: Allow admins to trigger password resets
    allow_session_revoke:
      type: boolean
      default: true
      description: Allow admins to revoke user sessions
